<!DOCTYPE html>
<html lang="id">
<head>
  <link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#1e88e5">
  <meta charset="UTF-8">
  <title>Ex Official Wallet</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
</head>
<body>
<!-- SPLASH SCREEN -->
<div class="splash" id="splash">
  <img src="logo.png" alt="Logo">
  <h1>Ex Official</h1>
</div>
<div class="app">

  <!-- LOGIN -->
<div class="login" id="login">
  <h2>Masukkan PIN</h2>

  <input
    type="password"
    id="pinInput"
    maxlength="4"
    placeholder="****"
    inputmode="numeric"
  >

  <button onclick="login()">Masuk</button>

  <!-- LOGIN FINGERPRINT (SIMULASI) -->
  <button class="finger" onclick="loginFingerprint()">
    ğŸ” Login dengan Sidik Jari
  </button>
</div>

  <!-- WALLET -->
  <div class="wallet hidden" id="wallet">

  <header class="topbar">
    <h1>Ex Official</h1>
  </header>

  <!-- HOME -->
  <div id="home" class="tab active">

    <section class="saldo-card">
  <p>Saldo Anda</p>

  <div class="saldo-row">
    <h2>Rp <span id="saldo">0</span></h2>
    <button class="eye" onclick="toggleSaldo()">ğŸ‘ï¸</button>
  </div>

</section>

    <section class="card">
      <input type="number" id="nominal" placeholder="Nominal Top Up">
      <button onclick="topUp()">Top Up</button>
    </section>

    <section class="card">
      <input type="text" id="tujuan" placeholder="Tujuan Kirim">
      <input type="number" id="kirimNominal" placeholder="Nominal Kirim">
      <button onclick="kirimSaldo()">Kirim Saldo</button>
    </section>

    <section class="card">
      <h3>Riwayat Transaksi</h3>
      <ul id="riwayat"></ul>
    </section>

  </div>

  <!-- QR -->
  <div id="qr" class="tab">

    <section class="card">
      <input type="number" id="qrNominal" placeholder="Nominal Bayar QR">
      <button onclick="generateQR()">Buat QR</button>
      <div id="qrcode"></div>
    </section>

    <section class="card">
      <h3>Scan QR</h3>
      <div id="reader" style="width:100%"></div>
      <button onclick="startScan()">Mulai Scan</button>
    </section>

  </div>

  <!-- PROFILE -->
  <div id="profile" class="tab">

    <section class="card">
      <h3>Ganti PIN</h3>
      <input type="password" id="pinLama" placeholder="PIN Lama" maxlength="4">
      <input type="password" id="pinBaru" placeholder="PIN Baru" maxlength="4">
      <button onclick="gantiPIN()">Simpan PIN Baru</button>
    </section>

    <button class="logout" onclick="logout()">Keluar</button>

  </div>

  <!-- BOTTOM NAV -->
  <nav class="bottom-nav">
    <button onclick="showTab('home')" class="active">ğŸ <span>Home</span></button>
    <button onclick="showTab('qr')">ğŸ“·<span>QR</span></button>
    <button onclick="showTab('profile')">ğŸ‘¤<span>Profil</span></button>
  </nav>

</div>

<script src="https://unpkg.com/html5-qrcode"></script>
<script src="wallet.js"></script>
  <script>
if ("serviceWorker" in navigator) {
  navigator.serviceWorker.register("service-worker.js");
}
</script>
</body>
</html>
